<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Aiven Operator â€“ Contributing</title><link>https://aiven.github.io/aiven-operator/docs/contributing/</link><description>Recent content in Contributing on Aiven Operator</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><atom:link href="https://aiven.github.io/aiven-operator/docs/contributing/index.xml" rel="self" type="application/rss+xml"/><item><title>Docs: Developer guide</title><link>https://aiven.github.io/aiven-operator/docs/contributing/developer-guide/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://aiven.github.io/aiven-operator/docs/contributing/developer-guide/</guid><description>
&lt;h2 id="getting-started">Getting Started&lt;/h2>
&lt;p>You must have a working &lt;a href="https://golang.org/doc/install">Go environment&lt;/a> and then clone the repository:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">$ git clone git@github.com:aiven/aiven-operator.git
$ cd aiven-operator
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="building">Building&lt;/h2>
&lt;p>The project uses the &lt;code>make&lt;/code> build system.&lt;/p>
&lt;p>Building the operator binary and Docker image:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">$ make build
$ make docker-build IMG&lt;span style="color:#f92672">=&lt;/span>aiven-operator:latest
$ make docker-push IMG&lt;span style="color:#f92672">=&lt;/span>aiven-operator:latest
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="testing">Testing&lt;/h2>
&lt;p>As of now, we only support integration tests who interact directly with Aiven. To run the tests, you&amp;rsquo;ll need
an &lt;a href="https://console.aiven.io/signup?utm_source=github&amp;amp;utm_medium=organic&amp;amp;utm_campaign=k8s-operator&amp;amp;utm_content=signup">Aiven account&lt;/a>
and an &lt;a href="https://help.aiven.io/en/articles/2059201-authentication-tokens">Aiven authentication code&lt;/a>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">$ make test AIVEN_PROJECT_NAME&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;&amp;lt;your-project-name&amp;gt;&amp;#34;&lt;/span> AIVEN_TOKEN&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;&amp;lt;your-token&amp;gt;&amp;#34;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="documentation">Documentation&lt;/h2>
&lt;p>The documentation is written in markdown and generated by &lt;a href="https://gohugo.io/">Hugo&lt;/a>
and &lt;a href="https://themes.gohugo.io/docsy/">Docsy&lt;/a>. Make sure to have Hugo installed on your machine.&lt;/p>
&lt;p>To run the documentation live preview:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">$ make serve-docs
&lt;/code>&lt;/pre>&lt;/div>&lt;p>And open the &lt;code>http://localhost:1313/aiven-operator/&lt;/code> page in your web browser.&lt;/p>
&lt;p>The &lt;a href="https://aiven.github.io/aiven-operator/docs/api-reference/">API Reference&lt;/a> section is generated automatically from
the source code during the documentation deployment. To generate it locally, run the following command:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">$ make generate-api-reference
&lt;/code>&lt;/pre>&lt;/div>&lt;p>To build the documentation locally (outputs to &lt;code>docs/public&lt;/code>), run:&lt;/p>
&lt;pre tabindex="0">&lt;code>$ make generate-docs
&lt;/code>&lt;/pre>&lt;h2 id="running-locally">Running locally&lt;/h2>
&lt;p>Install the &lt;code>cert-manager&lt;/code> operator. &lt;strong>This and the next step are only required if you want to run the webhooks, since
they are not mandatory when running locally&lt;/strong>.&lt;/p>
&lt;blockquote>
&lt;p>cert-manager is used to manage the Operator &lt;a href="https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/">webhooks&lt;/a> TLS certificates&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">$ make install-cert-manager
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Install the Aiven Operator for Kubernetes CRDs by running:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">$ make install
&lt;/code>&lt;/pre>&lt;/div>&lt;p>Run the operator locally:&lt;/p>
&lt;blockquote>
&lt;p>Alternatively, you can execute &lt;code>make run ENABLE_WEBHOOKS=false&lt;/code> to disable the webhooks, not requiring the cert-manager operator.&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">$ make run
&lt;/code>&lt;/pre>&lt;/div>&lt;p>To uninstall the operator, run:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">make undeploy
&lt;/code>&lt;/pre>&lt;/div></description></item></channel></rss>