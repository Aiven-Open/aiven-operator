---
title: "Developer guide"
linkTitle: "Developer guide"
weight: 10
---

## Getting Started

You must have a working [Go environment](https://golang.org/doc/install) and then clone the repository:

```shell
git clone git@github.com:aiven/aiven-operator.git
cd aiven-operator
```

## Resource generation

Please see [this page](resource-generation.md) for more information.

## Building

The project uses the `make` build system.

Building the operator binary:

```shell
make build
```

## Testing

As of now, we only support integration tests who interact directly with Aiven. To run the tests, you'll need
an [Aiven account](https://console.aiven.io/signup?utm_source=github&utm_medium=organic&utm_campaign=k8s-operator&utm_content=signup)
and an [Aiven authentication code](https://aiven.io/docs/platform/concepts/authentication-tokens).

### Prerequisites

Please have installed first:

- docker/podman
- [helm](https://helm.sh/)
- [Aiven CLI](https://docs.aiven.io/docs/tools/cli) (make sure you have logged in)
- [jq](https://jqlang.github.io/jq/)
- [kcat](https://github.com/edenhill/kcat)
- base64, note: MACOS version doesn't support `-w0` flag, some tests may not work properly
- [kind](https://kind.sigs.k8s.io/), and existing cluster, e.g.

  ```shell
   kind create cluster --image kindest/node:v1.26.6 --wait 5m
  ```

The following commands must be executed with these environment variables (keep them in secret!):

- `AIVEN_TOKEN` — your [authentication token](https://aiven.io/docs/platform/howto/create_authentication_token)
- `AIVEN_PROJECT_NAME` — your Aiven project name to run services in

Setup everything:

```shell
make e2e-setup-kind
```

!!! note
Additionally, webhooks can be disabled,
if there are any problems with them.

    ```shell
    WEBHOOKS_ENABLED=false make e2e-setup-kind
    ```

Run e2e tests (creates real services in `AIVEN_PROJECT_NAME`):

```shell
make test-e2e-preinstalled
```

When you're done, just drop the cluster:

```shell
kind delete cluster
```

## Documentation

The documentation is written in markdown and generated by [mkdocs](https://www.mkdocs.org/)
and [mkdocs-material](https://squidfunk.github.io/mkdocs-material/).

To run the documentation live preview:

```shell
make serve-docs
```

And open the `http://localhost:8000/aiven-operator/` page in your web browser.

The documentation API Reference section is generated automatically from
the source code during the documentation deployment. To generate it locally, run the following command:

```shell
make docs
```
