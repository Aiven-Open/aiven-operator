
---
apiVersion: apiextensions.k8s.io/v1beta1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.3.0
  creationTimestamp: null
  name: serviceintegrations.k8s-operator.aiven.io
spec:
  group: k8s-operator.aiven.io
  names:
    kind: ServiceIntegration
    listKind: ServiceIntegrationList
    plural: serviceintegrations
    singular: serviceintegration
  scope: Namespaced
  subresources:
    status: {}
  validation:
    openAPIV3Schema:
      description: ServiceIntegration is the Schema for the serviceintegrations API
      properties:
        apiVersion:
          description: 'APIVersion defines the versioned schema of this representation
            of an object. Servers should convert recognized schemas to the latest
            internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
          type: string
        kind:
          description: 'Kind is a string value representing the REST resource this
            object represents. Servers may infer this from the endpoint the client
            submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
          type: string
        metadata:
          type: object
        spec:
          description: ServiceIntegrationSpec defines the desired state of ServiceIntegration
          properties:
            datadog:
              description: Datadog specific user configuration options
              properties:
                exclude_consumer_groups:
                  description: Consumer groups to exclude
                  items:
                    type: string
                  type: array
                exclude_topics:
                  description: List of topics to exclude
                  items:
                    type: string
                  type: array
                include_consumer_groups:
                  description: Consumer groups to include
                  items:
                    type: string
                  type: array
                include_topics:
                  description: Topics to include
                  items:
                    type: string
                  type: array
                kafka_custom_metrics:
                  description: List of custom metrics
                  items:
                    type: string
                  type: array
              type: object
            destination_endpoint_id:
              description: 'x-kubernetes-immutable: true Destination endpoint for
                the integration (if any)'
              type: string
            destination_service_name:
              description: 'x-kubernetes-immutable: true Destination service for the
                integration (if any)'
              type: string
            integration_type:
              description: 'x-kubernetes-immutable: true Type of the service integration'
              enum:
              - datadog
              - kafka_logs
              - kafka_connect
              - metrics
              - dashboard
              - rsyslog
              - read_replica
              - schema_registry_proxy
              - signalfx
              - jolokia
              - internal_connectivity
              - external_google_cloud_logging
              - datasource
              type: string
            kafka_connect:
              description: Kafka Connect service configuration values
              properties:
                exclude_consumer_groups:
                  description: Consumer groups to exclude
                  items:
                    type: string
                  type: array
                exclude_topics:
                  description: List of topics to exclude
                  items:
                    type: string
                  type: array
                include_consumer_groups:
                  description: Consumer groups to include
                  items:
                    type: string
                  type: array
                include_topics:
                  description: Topics to include
                  items:
                    type: string
                  type: array
                kafka_custom_metrics:
                  description: List of custom metrics
                  items:
                    type: string
                  type: array
              type: object
            kafka_logs:
              description: Kafka logs configuration values
              properties:
                kafka_topic:
                  description: Topic name
                  maxLength: 63
                  minLength: 1
                  type: string
              type: object
            metrics:
              description: Metrics configuration values
              properties:
                database:
                  description: Name of the database where to store metric datapoints.
                    Only affects PostgreSQL destinations
                  format: ^[_A-Za-z0-9][-_A-Za-z0-9]{0,39}$
                  maxLength: 40
                  type: string
                retention_days:
                  description: Number of days to keep old metrics. Only affects PostgreSQL
                    destinations. Set to 0 for no automatic cleanup. Defaults to 30
                    days.
                  type: integer
                ro_username:
                  description: Name of a user that can be used to read metrics. This
                    will be used for Grafana integration (if enabled) to prevent Grafana
                    users from making undesired changes. Only affects PostgreSQL destinations.
                    Defaults to 'metrics_reader'. Note that this must be the same
                    for all metrics integrations that write data to the same PostgreSQL
                    service.
                  format: ^[_A-Za-z0-9][-._A-Za-z0-9]{0,39}$
                  maxLength: 40
                  type: string
                username:
                  description: Name of the user used to write metrics. Only affects
                    PostgreSQL destinations. Defaults to 'metrics_writer'. Note that
                    this must be the same for all metrics integrations that write
                    data to the same PostgreSQL service.
                  format: ^[_A-Za-z0-9][-._A-Za-z0-9]{0,39}$
                  maxLength: 40
                  type: string
              type: object
            project:
              description: 'x-kubernetes-immutable: true Project the integration belongs
                to'
              format: ^[a-zA-Z0-9_-]*$
              maxLength: 63
              type: string
            source_endpoint_id:
              description: 'x-kubernetes-immutable: true Source endpoint for the integration
                (if any)'
              type: string
            source_service_name:
              description: 'x-kubernetes-immutable: true Source service for the integration
                (if any)'
              type: string
          required:
          - integration_type
          - project
          type: object
        status:
          description: ServiceIntegrationStatus defines the observed state of ServiceIntegration
          properties:
            datadog:
              description: Datadog specific user configuration options
              properties:
                exclude_consumer_groups:
                  description: Consumer groups to exclude
                  items:
                    type: string
                  type: array
                exclude_topics:
                  description: List of topics to exclude
                  items:
                    type: string
                  type: array
                include_consumer_groups:
                  description: Consumer groups to include
                  items:
                    type: string
                  type: array
                include_topics:
                  description: Topics to include
                  items:
                    type: string
                  type: array
                kafka_custom_metrics:
                  description: List of custom metrics
                  items:
                    type: string
                  type: array
              type: object
            destination_endpoint_id:
              description: Destination endpoint for the integration (if any)
              type: string
            destination_service_name:
              description: Destination service for the integration (if any)
              type: string
            id:
              description: Service integration ID
              type: string
            integration_type:
              description: Type of the service integration
              enum:
              - datadog
              - kafka_logs
              - kafka_connect
              - metrics
              - dashboard
              - rsyslog
              - read_replica
              - schema_registry_proxy
              - signalfx
              - jolokia
              - internal_connectivity
              - external_google_cloud_logging
              - datasource
              type: string
            kafka_connect:
              description: Kafka Connect service configuration values
              properties:
                exclude_consumer_groups:
                  description: Consumer groups to exclude
                  items:
                    type: string
                  type: array
                exclude_topics:
                  description: List of topics to exclude
                  items:
                    type: string
                  type: array
                include_consumer_groups:
                  description: Consumer groups to include
                  items:
                    type: string
                  type: array
                include_topics:
                  description: Topics to include
                  items:
                    type: string
                  type: array
                kafka_custom_metrics:
                  description: List of custom metrics
                  items:
                    type: string
                  type: array
              type: object
            kafka_logs:
              description: Kafka logs configuration values
              properties:
                kafka_topic:
                  description: Topic name
                  maxLength: 63
                  minLength: 1
                  type: string
              type: object
            metrics:
              description: Metrics configuration values
              properties:
                database:
                  description: Name of the database where to store metric datapoints.
                    Only affects PostgreSQL destinations
                  format: ^[_A-Za-z0-9][-_A-Za-z0-9]{0,39}$
                  maxLength: 40
                  type: string
                retention_days:
                  description: Number of days to keep old metrics. Only affects PostgreSQL
                    destinations. Set to 0 for no automatic cleanup. Defaults to 30
                    days.
                  type: integer
                ro_username:
                  description: Name of a user that can be used to read metrics. This
                    will be used for Grafana integration (if enabled) to prevent Grafana
                    users from making undesired changes. Only affects PostgreSQL destinations.
                    Defaults to 'metrics_reader'. Note that this must be the same
                    for all metrics integrations that write data to the same PostgreSQL
                    service.
                  format: ^[_A-Za-z0-9][-._A-Za-z0-9]{0,39}$
                  maxLength: 40
                  type: string
                username:
                  description: Name of the user used to write metrics. Only affects
                    PostgreSQL destinations. Defaults to 'metrics_writer'. Note that
                    this must be the same for all metrics integrations that write
                    data to the same PostgreSQL service.
                  format: ^[_A-Za-z0-9][-._A-Za-z0-9]{0,39}$
                  maxLength: 40
                  type: string
              type: object
            project:
              description: Project the integration belongs to
              format: ^[a-zA-Z0-9_-]*$
              maxLength: 63
              type: string
            source_endpoint_id:
              description: Source endpoint for the integration (if any)
              type: string
            source_service_name:
              description: Source service for the integration (if any)
              type: string
          required:
          - id
          - integration_type
          - project
          type: object
      type: object
  version: v1alpha1
  versions:
  - name: v1alpha1
    served: true
    storage: true
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: []
  storedVersions: []
